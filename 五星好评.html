<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		#box span{
			display: inline-block;
			background-image: url(img/star.gif);
			width:27px;
			height: 28.5px;
			background-position: 0px 0px;
		}
	</style>
</head>
<body style="height: 1000px">
	<div id="box">
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<span></span>
		<b>0</b>
	</div>
</body>
</html>
<script src="js/jquery-3.2.1.min.js"></script>
<script type="text/javascript">

let score = 0;

$(function(){
    $("span").mouseover(function(){
        let sep = score-1>$(this).index()?score-1:$(this).index();
        
        $("span").slice(0,sep+1).css({
            "background-position": `0px ${-28.5}px`
        });        
        $("span").eq(sep).nextAll().css({
            "background-position": `0px 0px`
        });
    });

    $("span").mouseout(function(){
        for(let i=0;i<score;i++){
            $("span")[i].style.backgroundPosition=`0px ${-28.5}px`;
        }

        for(let i=score;i<$("span").length;i++){
            $("span")[i].style.backgroundPosition=`0px 0px`;
        }
    });

    $("span").click(function(){
        //数据
        score = $(this).index()+1;
        //外观
        $("#box b").html(score);

        for(let i=0;i<score;i++){
            $("span")[i].style.backgroundPosition=`0px ${-28.5}px`;
        }

        for(let i=score;i<$("span").length;i++){
            $("span")[i].style.backgroundPosition=`0px 0px`;
        }
    })

});


</script>